{# Customer Profile Page for Gadgets Zone Theme #}

{% extends "layouts.master" %}

{% block title %}{{ trans("customer.my_account") }} - {{ store.name }}{% endblock %}

{% block description %}{{ trans("customer.account_description") }}{% endblock %}

{% block body_class %}customer-profile-page{% endblock %}

{% block content %}

{# Page Header #}
<section class="page-header">
    <div class="container">
        {# Breadcrumbs #}
        <nav class="breadcrumbs" aria-label="Breadcrumb">
            <ol class="breadcrumb-list">
                <li class="breadcrumb-item">
                    <a href="{{ store.url }}">{{ trans("common.home") }}</a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">
                    {{ trans("customer.my_account") }}
                </li>
            </ol>
        </nav>
        
        {# Page Title #}
        <div class="page-header-content">
            <h1 class="page-title">{{ trans("customer.my_account") }}</h1>
            <p class="page-description">{{ trans("customer.manage_account") }}</p>
        </div>
    </div>
</section>

{# Account Content #}
<section class="account-section">
    <div class="container">
        <div class="account-layout">
            {# Account Sidebar #}
            <div class="account-sidebar">
                <div class="customer-info">
                    <div class="customer-avatar">
                        <img src="{{ customer.avatar|default('assets/images/default-avatar.jpg'|asset) }}" alt="{{ customer.name|default('Customer') }}">
                    </div>
                    <div class="customer-details">
                        <h3>{{ customer.name|default('John Doe') }}</h3>
                        <p>{{ customer.email|default('john.doe@example.com') }}</p>
                        <span class="customer-status">{{ trans("customer.member_since") }} {{ customer.created_at|default('2023')|date('Y') }}</span>
                    </div>
                </div>
                
                <nav class="account-nav">
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#dashboard" class="nav-link active" data-tab="dashboard">
                                <i class="icon-home"></i>
                                {{ trans("customer.dashboard") }}
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#orders" class="nav-link" data-tab="orders">
                                <i class="icon-shopping-bag"></i>
                                {{ trans("customer.orders") }}
                                <span class="nav-badge">3</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#wishlist" class="nav-link" data-tab="wishlist">
                                <i class="icon-heart"></i>
                                {{ trans("customer.wishlist") }}
                                <span class="nav-badge">5</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#addresses" class="nav-link" data-tab="addresses">
                                <i class="icon-map-pin"></i>
                                {{ trans("customer.addresses") }}
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#profile" class="nav-link" data-tab="profile">
                                <i class="icon-user"></i>
                                {{ trans("customer.profile_settings") }}
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#notifications" class="nav-link" data-tab="notifications">
                                <i class="icon-bell"></i>
                                {{ trans("customer.notifications") }}
                                <span class="nav-badge">2</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#logout" class="nav-link logout-link">
                                <i class="icon-log-out"></i>
                                {{ trans("customer.logout") }}
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
            
            {# Account Content #}
            <div class="account-content">
                {# Dashboard Tab #}
                <div class="tab-content active" data-tab-content="dashboard">
                    <div class="content-header">
                        <h2>{{ trans("customer.dashboard") }}</h2>
                        <p>{{ trans("customer.dashboard_welcome") }}</p>
                    </div>
                    
                    <div class="dashboard-stats">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="icon-shopping-bag"></i>
                            </div>
                            <div class="stat-info">
                                <span class="stat-number">12</span>
                                <span class="stat-label">{{ trans("customer.total_orders") }}</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="icon-heart"></i>
                            </div>
                            <div class="stat-info">
                                <span class="stat-number">5</span>
                                <span class="stat-label">{{ trans("customer.wishlist_items") }}</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="icon-dollar-sign"></i>
                            </div>
                            <div class="stat-info">
                                <span class="stat-number">$1,250</span>
                                <span class="stat-label">{{ trans("customer.total_spent") }}</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="icon-award"></i>
                            </div>
                            <div class="stat-info">
                                <span class="stat-number">Gold</span>
                                <span class="stat-label">{{ trans("customer.loyalty_status") }}</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dashboard-sections">
                        <div class="recent-orders">
                            <h3>{{ trans("customer.recent_orders") }}</h3>
                            <div class="orders-list">
                                <div class="order-item">
                                    <div class="order-info">
                                        <span class="order-number">#12345</span>
                                        <span class="order-date">{{ trans("customer.ordered_on") }} Dec 15, 2023</span>
                                    </div>
                                    <div class="order-status">
                                        <span class="status-badge delivered">{{ trans("order.delivered") }}</span>
                                    </div>
                                    <div class="order-total">$299.00</div>
                                    <div class="order-actions">
                                        <a href="#" class="btn btn-secondary btn-small">{{ trans("customer.view_order") }}</a>
                                    </div>
                                </div>
                                <div class="order-item">
                                    <div class="order-info">
                                        <span class="order-number">#12344</span>
                                        <span class="order-date">{{ trans("customer.ordered_on") }} Dec 10, 2023</span>
                                    </div>
                                    <div class="order-status">
                                        <span class="status-badge shipped">{{ trans("order.shipped") }}</span>
                                    </div>
                                    <div class="order-total">$149.00</div>
                                    <div class="order-actions">
                                        <a href="#" class="btn btn-secondary btn-small">{{ trans("customer.track_order") }}</a>
                                    </div>
                                </div>
                            </div>
                            <a href="#orders" class="view-all-link" data-tab="orders">{{ trans("customer.view_all_orders") }}</a>
                        </div>
                        
                        <div class="quick-actions">
                            <h3>{{ trans("customer.quick_actions") }}</h3>
                            <div class="actions-grid">
                                <a href="#orders" class="action-card" data-tab="orders">
                                    <i class="icon-shopping-bag"></i>
                                    <span>{{ trans("customer.view_orders") }}</span>
                                </a>
                                <a href="#wishlist" class="action-card" data-tab="wishlist">
                                    <i class="icon-heart"></i>
                                    <span>{{ trans("customer.my_wishlist") }}</span>
                                </a>
                                <a href="#addresses" class="action-card" data-tab="addresses">
                                    <i class="icon-map-pin"></i>
                                    <span>{{ trans("customer.manage_addresses") }}</span>
                                </a>
                                <a href="#profile" class="action-card" data-tab="profile">
                                    <i class="icon-settings"></i>
                                    <span>{{ trans("customer.account_settings") }}</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                {# Orders Tab #}
                <div class="tab-content" data-tab-content="orders">
                    <div class="content-header">
                        <h2>{{ trans("customer.my_orders") }}</h2>
                        <p>{{ trans("customer.orders_description") }}</p>
                    </div>
                    
                    <div class="orders-filter">
                        <select class="filter-select">
                            <option value="all">{{ trans("customer.all_orders") }}</option>
                            <option value="pending">{{ trans("order.pending") }}</option>
                            <option value="processing">{{ trans("order.processing") }}</option>
                            <option value="shipped">{{ trans("order.shipped") }}</option>
                            <option value="delivered">{{ trans("order.delivered") }}</option>
                            <option value="cancelled">{{ trans("order.cancelled") }}</option>
                        </select>
                    </div>
                    
                    <div class="orders-table">
                        <div class="table-header">
                            <div class="header-cell">{{ trans("customer.order_number") }}</div>
                            <div class="header-cell">{{ trans("customer.date") }}</div>
                            <div class="header-cell">{{ trans("customer.status") }}</div>
                            <div class="header-cell">{{ trans("customer.total") }}</div>
                            <div class="header-cell">{{ trans("customer.actions") }}</div>
                        </div>
                        <div class="table-body">
                            <div class="table-row">
                                <div class="table-cell">#12345</div>
                                <div class="table-cell">Dec 15, 2023</div>
                                <div class="table-cell"><span class="status-badge delivered">{{ trans("order.delivered") }}</span></div>
                                <div class="table-cell">$299.00</div>
                                <div class="table-cell">
                                    <button class="btn btn-secondary btn-small">{{ trans("customer.view_details") }}</button>
                                </div>
                            </div>
                            <div class="table-row">
                                <div class="table-cell">#12344</div>
                                <div class="table-cell">Dec 10, 2023</div>
                                <div class="table-cell"><span class="status-badge shipped">{{ trans("order.shipped") }}</span></div>
                                <div class="table-cell">$149.00</div>
                                <div class="table-cell">
                                    <button class="btn btn-secondary btn-small">{{ trans("customer.track_order") }}</button>
                                </div>
                            </div>
                            <div class="table-row">
                                <div class="table-cell">#12343</div>
                                <div class="table-cell">Dec 5, 2023</div>
                                <div class="table-cell"><span class="status-badge processing">{{ trans("order.processing") }}</span></div>
                                <div class="table-cell">$89.00</div>
                                <div class="table-cell">
                                    <button class="btn btn-secondary btn-small">{{ trans("customer.view_details") }}</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                {# Wishlist Tab #}
                <div class="tab-content" data-tab-content="wishlist">
                    <div class="content-header">
                        <h2>{{ trans("customer.my_wishlist") }}</h2>
                        <p>{{ trans("customer.wishlist_description") }}</p>
                    </div>
                    
                    <div class="wishlist-grid">
                        {% set wishlist_products = [
                            {
                                'id': 1,
                                'name': 'Wireless Headphones Pro',
                                'price': 299.00,
                                'original_price': 349.00,
                                'image': '/images/headphones-pro.jpg',
                                'rating': 4.8,
                                'in_stock': true,
                                'url': '/product/wireless-headphones-pro'
                            },
                            {
                                'id': 2,
                                'name': 'Smart Watch Series 5',
                                'price': 399.00,
                                'image': '/images/smart-watch.jpg',
                                'rating': 4.6,
                                'in_stock': false,
                                'url': '/product/smart-watch-series-5'
                            }
                        ] %}
                        
                        {% for product in wishlist_products %}
                            <div class="wishlist-item">
                                <div class="product-image">
                                    <a href="{{ product.url }}">
                                        <img src="{{ product.image }}" alt="{{ product.name }}">
                                    </a>
                                    <button class="remove-wishlist-btn" data-product-id="{{ product.id }}">
                                        <i class="icon-x"></i>
                                    </button>
                                </div>
                                <div class="product-info">
                                    <h3 class="product-name">
                                        <a href="{{ product.url }}">{{ product.name }}</a>
                                    </h3>
                                    <div class="product-rating">
                                        <div class="stars">
                                            {% for i in 1..5 %}
                                                <i class="icon-star {{ i <= product.rating ? 'filled' : '' }}"></i>
                                            {% endfor %}
                                        </div>
                                        <span class="rating-text">({{ product.rating }})</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="current-price">${{ product.price }}</span>
                                        {% if product.original_price %}
                                            <span class="original-price">${{ product.original_price }}</span>
                                        {% endif %}
                                    </div>
                                    <div class="product-actions">
                                        {% if product.in_stock %}
                                            <button class="btn btn-primary btn-small add-to-cart-btn" data-product-id="{{ product.id }}">
                                                <i class="icon-shopping-cart"></i>
                                                {{ trans("product.add_to_cart") }}
                                            </button>
                                        {% else %}
                                            <button class="btn btn-secondary btn-small" disabled>
                                                {{ trans("product.out_of_stock") }}
                                            </button>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                
                {# Addresses Tab #}
                <div class="tab-content" data-tab-content="addresses">
                    <div class="content-header">
                        <h2>{{ trans("customer.my_addresses") }}</h2>
                        <p>{{ trans("customer.addresses_description") }}</p>
                        <button class="btn btn-primary add-address-btn">
                            <i class="icon-plus"></i>
                            {{ trans("customer.add_new_address") }}
                        </button>
                    </div>
                    
                    <div class="addresses-grid">
                        <div class="address-card">
                            <div class="address-header">
                                <h4>{{ trans("customer.home_address") }}</h4>
                                <span class="address-badge default">{{ trans("customer.default") }}</span>
                            </div>
                            <div class="address-details">
                                <p>John Doe</p>
                                <p>123 Main Street</p>
                                <p>Apartment 4B</p>
                                <p>New York, NY 10001</p>
                                <p>United States</p>
                                <p>+1 (555) 123-4567</p>
                            </div>
                            <div class="address-actions">
                                <button class="btn btn-secondary btn-small edit-address-btn">{{ trans("common.edit") }}</button>
                                <button class="btn btn-outline btn-small delete-address-btn">{{ trans("common.delete") }}</button>
                            </div>
                        </div>
                        
                        <div class="address-card">
                            <div class="address-header">
                                <h4>{{ trans("customer.work_address") }}</h4>
                            </div>
                            <div class="address-details">
                                <p>John Doe</p>
                                <p>456 Business Ave</p>
                                <p>Suite 100</p>
                                <p>New York, NY 10002</p>
                                <p>United States</p>
                                <p>+1 (555) 987-6543</p>
                            </div>
                            <div class="address-actions">
                                <button class="btn btn-secondary btn-small edit-address-btn">{{ trans("common.edit") }}</button>
                                <button class="btn btn-outline btn-small delete-address-btn">{{ trans("common.delete") }}</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                {# Profile Settings Tab #}
                <div class="tab-content" data-tab-content="profile">
                    <div class="content-header">
                        <h2>{{ trans("customer.profile_settings") }}</h2>
                        <p>{{ trans("customer.profile_description") }}</p>
                    </div>
                    
                    <form class="profile-form">
                        <div class="form-section">
                            <h3>{{ trans("customer.personal_information") }}</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="first-name">{{ trans("customer.first_name") }} *</label>
                                    <input type="text" id="first-name" name="first_name" value="John" required>
                                </div>
                                <div class="form-group">
                                    <label for="last-name">{{ trans("customer.last_name") }} *</label>
                                    <input type="text" id="last-name" name="last_name" value="Doe" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="email">{{ trans("customer.email_address") }} *</label>
                                <input type="email" id="email" name="email" value="john.doe@example.com" required>
                            </div>
                            <div class="form-group">
                                <label for="phone">{{ trans("customer.phone_number") }}</label>
                                <input type="tel" id="phone" name="phone" value="+1 (555) 123-4567">
                            </div>
                            <div class="form-group">
                                <label for="birth-date">{{ trans("customer.birth_date") }}</label>
                                <input type="date" id="birth-date" name="birth_date" value="1990-01-15">
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h3>{{ trans("customer.change_password") }}</h3>
                            <div class="form-group">
                                <label for="current-password">{{ trans("customer.current_password") }}</label>
                                <input type="password" id="current-password" name="current_password">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="new-password">{{ trans("customer.new_password") }}</label>
                                    <input type="password" id="new-password" name="new_password">
                                </div>
                                <div class="form-group">
                                    <label for="confirm-new-password">{{ trans("customer.confirm_new_password") }}</label>
                                    <input type="password" id="confirm-new-password" name="confirm_new_password">
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-section">
                            <h3>{{ trans("customer.preferences") }}</h3>
                            <div class="form-group checkbox-group">
                                <input type="checkbox" id="newsletter" name="newsletter" checked>
                                <label for="newsletter">{{ trans("customer.subscribe_newsletter") }}</label>
                            </div>
                            <div class="form-group checkbox-group">
                                <input type="checkbox" id="sms-notifications" name="sms_notifications">
                                <label for="sms-notifications">{{ trans("customer.sms_notifications") }}</label>
                            </div>
                            <div class="form-group checkbox-group">
                                <input type="checkbox" id="order-updates" name="order_updates" checked>
                                <label for="order-updates">{{ trans("customer.order_updates") }}</label>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">{{ trans("customer.save_changes") }}</button>
                            <button type="button" class="btn btn-secondary">{{ trans("common.cancel") }}</button>
                        </div>
                    </form>
                </div>
                
                {# Notifications Tab #}
                <div class="tab-content" data-tab-content="notifications">
                    <div class="content-header">
                        <h2>{{ trans("customer.notifications") }}</h2>
                        <p>{{ trans("customer.notifications_description") }}</p>
                        <button class="btn btn-secondary mark-all-read-btn">{{ trans("customer.mark_all_read") }}</button>
                    </div>
                    
                    <div class="notifications-list">
                        <div class="notification-item unread">
                            <div class="notification-icon">
                                <i class="icon-package"></i>
                            </div>
                            <div class="notification-content">
                                <h4>{{ trans("customer.order_shipped") }}</h4>
                                <p>{{ trans("customer.order_shipped_message", {"order": "#12344"}) }}</p>
                                <span class="notification-time">2 hours ago</span>
                            </div>
                            <button class="mark-read-btn">
                                <i class="icon-check"></i>
                            </button>
                        </div>
                        
                        <div class="notification-item unread">
                            <div class="notification-icon">
                                <i class="icon-heart"></i>
                            </div>
                            <div class="notification-content">
                                <h4>{{ trans("customer.wishlist_sale") }}</h4>
                                <p>{{ trans("customer.wishlist_sale_message") }}</p>
                                <span class="notification-time">1 day ago</span>
                            </div>
                            <button class="mark-read-btn">
                                <i class="icon-check"></i>
                            </button>
                        </div>
                        
                        <div class="notification-item">
                            <div class="notification-icon">
                                <i class="icon-check-circle"></i>
                            </div>
                            <div class="notification-content">
                                <h4>{{ trans("customer.order_delivered") }}</h4>
                                <p>{{ trans("customer.order_delivered_message", {"order": "#12345"}) }}</p>
                                <span class="notification-time">3 days ago</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ "assets/styles/components.css"|asset }}">
<style>
/* Customer Profile Page Styles */

.account-section {
    padding: 3rem 0;
}

.account-layout {
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: 3rem;
    align-items: start;
}

/* Account Sidebar */
.account-sidebar {
    background: white;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-light);
    padding: 2rem;
    position: sticky;
    top: 100px;
}

.customer-info {
    text-align: center;
    margin-bottom: 2rem;
    padding-bottom: 2rem;
    border-bottom: 1px solid var(--border-color);
}

.customer-avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    overflow: hidden;
    margin: 0 auto 1rem;
    border: 3px solid var(--primary-color);
}

.customer-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.customer-details h3 {
    font-size: 1.25rem;
    font-weight: var(--font-weight-semibold);
    margin-bottom: 0.5rem;
    color: var(--text-color);
}

.customer-details p {
    color: var(--text-light);
    margin-bottom: 0.5rem;
}

.customer-status {
    font-size: 0.875rem;
    color: var(--text-muted);
}

.account-nav .nav-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.account-nav .nav-item {
    margin-bottom: 0.5rem;
}

.account-nav .nav-link {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    color: var(--text-color);
    text-decoration: none;
    border-radius: var(--border-radius);
    transition: var(--transition);
    position: relative;
}

.account-nav .nav-link:hover {
    background: var(--background-light);
    color: var(--primary-color);
}

.account-nav .nav-link.active {
    background: var(--primary-color);
    color: white;
}

.account-nav .nav-badge {
    background: var(--primary-color);
    color: white;
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
    border-radius: 50px;
    margin-left: auto;
}

.account-nav .nav-link.active .nav-badge {
    background: rgba(255, 255, 255, 0.2);
}

.account-nav .logout-link {
    color: #dc3545;
}

.account-nav .logout-link:hover {
    background: rgba(220, 53, 69, 0.1);
    color: #dc3545;
}

/* Account Content */
.account-content {
    background: white;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-light);
    padding: 2rem;
}

.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

.content-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 2rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--border-color);
}

.content-header h2 {
    font-size: 1.75rem;
    font-weight: var(--font-weight-semibold);
    color: var(--text-color);
    margin-bottom: 0.5rem;
}

.content-header p {
    color: var(--text-light);
    margin: 0;
}

/* Dashboard Styles */
.dashboard-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin-bottom: 3rem;
}

.stat-card {
    background: var(--background-light);
    padding: 1.5rem;
    border-radius: var(--border-radius);
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: var(--transition);
}

.stat-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-light);
}

.stat-icon {
    width: 50px;
    height: 50px;
    background: var(--primary-color);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
}

.stat-info {
    display: flex;
    flex-direction: column;
}

.stat-number {
    font-size: 1.5rem;
    font-weight: var(--font-weight-bold);
    color: var(--text-color);
}

.stat-label {
    font-size: 0.875rem;
    color: var(--text-light);
}

.dashboard-sections {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 2rem;
}

.recent-orders h3,
.quick-actions h3 {
    font-size: 1.25rem;
    font-weight: var(--font-weight-semibold);
    margin-bottom: 1.5rem;
    color: var(--text-color);
}

.orders-list {
    margin-bottom: 1rem;
}

.order-item {
    display: grid;
    grid-template-columns: 1fr auto auto auto;
    gap: 1rem;
    align-items: center;
    padding: 1rem;
    background: var(--background-light);
    border-radius: var(--border-radius);
    margin-bottom: 1rem;
}

.order-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.order-number {
    font-weight: var(--font-weight-semibold);
    color: var(--text-color);
}

.order-date {
    font-size: 0.875rem;
    color: var(--text-light);
}

.status-badge {
    padding: 0.25rem 0.75rem;
    border-radius: 50px;
    font-size: 0.75rem;
    font-weight: var(--font-weight-medium);
    text-transform: uppercase;
}

.status-badge.delivered {
    background: #d4edda;
    color: #155724;
}

.status-badge.shipped {
    background: #cce5ff;
    color: #004085;
}

.status-badge.processing {
    background: #fff3cd;
    color: #856404;
}

.status-badge.pending {
    background: #f8d7da;
    color: #721c24;
}

.order-total {
    font-weight: var(--font-weight-semibold);
    color: var(--text-color);
}

.view-all-link {
    color: var(--primary-color);
    text-decoration: none;
    font-weight: var(--font-weight-medium);
    transition: var(--transition);
}

.view-all-link:hover {
    text-decoration: underline;
}

.actions-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
}

.action-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    padding: 1.5rem;
    background: var(--background-light);
    border-radius: var(--border-radius);
    text-decoration: none;
    color: var(--text-color);
    transition: var(--transition);
}

.action-card:hover {
    background: var(--primary-color);
    color: white;
    transform: translateY(-2px);
}

.action-card i {
    font-size: 2rem;
}

/* Orders Table */
.orders-filter {
    margin-bottom: 2rem;
}

.filter-select {
    padding: 0.5rem 1rem;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    background: white;
}

.orders-table {
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    overflow: hidden;
}

.table-header {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr 1fr;
    background: var(--background-light);
    font-weight: var(--font-weight-semibold);
    color: var(--text-color);
}

.table-row {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr 1fr;
    border-top: 1px solid var(--border-color);
}

.header-cell,
.table-cell {
    padding: 1rem;
    text-align: left;
}

.table-row:hover {
    background: var(--background-light);
}

/* Wishlist Grid */
.wishlist-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 2rem;
}

.wishlist-item {
    background: var(--background-light);
    border-radius: var(--border-radius);
    padding: 1.5rem;
    position: relative;
    transition: var(--transition);
}

.wishlist-item:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-light);
}

.wishlist-item .product-image {
    position: relative;
    margin-bottom: 1rem;
}

.wishlist-item .product-image img {
    width: 100%;
    height: 200px;
    object-fit: cover;
    border-radius: var(--border-radius);
}

.remove-wishlist-btn {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    width: 30px;
    height: 30px;
    background: rgba(0, 0, 0, 0.7);
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    transition: var(--transition);
}

.remove-wishlist-btn:hover {
    background: #dc3545;
}

.wishlist-item .product-name {
    font-size: 1.125rem;
    font-weight: var(--font-weight-semibold);
    margin-bottom: 0.5rem;
}

.wishlist-item .product-name a {
    color: var(--text-color);
    text-decoration: none;
    transition: var(--transition);
}

.wishlist-item .product-name a:hover {
    color: var(--primary-color);
}

.wishlist-item .product-rating {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
}

.wishlist-item .stars {
    display: flex;
    gap: 0.125rem;
}

.wishlist-item .stars i {
    color: #ddd;
    font-size: 0.875rem;
}

.wishlist-item .stars i.filled {
    color: #ffc107;
}

.wishlist-item .rating-text {
    font-size: 0.875rem;
    color: var(--text-light);
}

.wishlist-item .product-price {
    margin-bottom: 1rem;
}

.wishlist-item .current-price {
    font-size: 1.25rem;
    font-weight: var(--font-weight-bold);
    color: var(--text-color);
}

.wishlist-item .original-price {
    font-size: 1rem;
    color: var(--text-muted);
    text-decoration: line-through;
    margin-left: 0.5rem;
}

/* Addresses Grid */
.addresses-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 2rem;
}

.address-card {
    background: var(--background-light);
    border-radius: var(--border-radius);
    padding: 1.5rem;
    transition: var(--transition);
}

.address-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-light);
}

.address-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.address-header h4 {
    font-size: 1.125rem;
    font-weight: var(--font-weight-semibold);
    color: var(--text-color);
    margin: 0;
}

.address-badge {
    padding: 0.25rem 0.75rem;
    border-radius: 50px;
    font-size: 0.75rem;
    font-weight: var(--font-weight-medium);
    text-transform: uppercase;
}

.address-badge.default {
    background: var(--primary-color);
    color: white;
}

.address-details {
    margin-bottom: 1.5rem;
}

.address-details p {
    margin-bottom: 0.25rem;
    color: var(--text-color);
    line-height: 1.4;
}

.address-actions {
    display: flex;
    gap: 0.75rem;
}

/* Profile Form */
.profile-form {
    max-width: 600px;
}

.form-section {
    margin-bottom: 3rem;
    padding-bottom: 2rem;
    border-bottom: 1px solid var(--border-color);
}

.form-section:last-of-type {
    border-bottom: none;
}

.form-section h3 {
    font-size: 1.25rem;
    font-weight: var(--font-weight-semibold);
    margin-bottom: 1.5rem;
    color: var(--text-color);
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    display: block;
    font-weight: var(--font-weight-medium);
    margin-bottom: 0.5rem;
    color: var(--text-color);
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 0.75rem 1rem;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    font-size: 1rem;
    transition: var(--transition);
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--primary-color);
}

.form-group.checkbox-group {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.form-group.checkbox-group input[type="checkbox"] {
    width: auto;
    margin: 0;
}

.form-group.checkbox-group label {
    margin: 0;
    font-weight: normal;
}

.form-actions {
    display: flex;
    gap: 1rem;
}

/* Notifications */
.notifications-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.notification-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.5rem;
    background: var(--background-light);
    border-radius: var(--border-radius);
    position: relative;
    transition: var(--transition);
}

.notification-item.unread {
    background: rgba(255, 140, 0, 0.05);
    border-left: 4px solid var(--primary-color);
}

.notification-item.unread::before {
    content: '';
    position: absolute;
    top: 1rem;
    right: 1rem;
    width: 8px;
    height: 8px;
    background: var(--primary-color);
    border-radius: 50%;
}

.notification-icon {
    width: 40px;
    height: 40px;
    background: var(--primary-color);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    flex-shrink: 0;
}

.notification-content {
    flex: 1;
}

.notification-content h4 {
    font-size: 1rem;
    font-weight: var(--font-weight-semibold);
    margin-bottom: 0.5rem;
    color: var(--text-color);
}

.notification-content p {
    color: var(--text-light);
    margin-bottom: 0.5rem;
    line-height: 1.5;
}

.notification-time {
    font-size: 0.875rem;
    color: var(--text-muted);
}

.mark-read-btn {
    background: none;
    border: none;
    color: var(--text-light);
    cursor: pointer;
    padding: 0.25rem;
    border-radius: var(--border-radius);
    transition: var(--transition);
}

.mark-read-btn:hover {
    background: var(--primary-color);
    color: white;
}

/* Responsive Design */
@media (max-width: 1024px) {
    .account-layout {
        grid-template-columns: 250px 1fr;
        gap: 2rem;
    }
    
    .dashboard-sections {
        grid-template-columns: 1fr;
    }
    
    .actions-grid {
        grid-template-columns: repeat(4, 1fr);
    }
}

@media (max-width: 768px) {
    .account-layout {
        grid-template-columns: 1fr;
        gap: 2rem;
    }
    
    .account-sidebar {
        position: static;
        order: -1;
    }
    
    .customer-info {
        display: flex;
        align-items: center;
        gap: 1rem;
        text-align: left;
    }
    
    .customer-avatar {
        margin: 0;
    }
    
    .account-nav .nav-list {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
    }
    
    .account-nav .nav-item {
        margin: 0;
    }
    
    .account-nav .nav-link {
        padding: 0.5rem 1rem;
        font-size: 0.875rem;
    }
    
    .content-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
    }
    
    .dashboard-stats {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .actions-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .table-header,
    .table-row {
        grid-template-columns: 1fr;
        gap: 0;
    }
    
    .header-cell,
    .table-cell {
        padding: 0.75rem;
        border-bottom: 1px solid var(--border-color);
    }
    
    .header-cell:before,
    .table-cell:before {
        content: attr(data-label) ': ';
        font-weight: var(--font-weight-semibold);
        display: inline-block;
        width: 120px;
    }
    
    .form-row {
        grid-template-columns: 1fr;
    }
    
    .form-actions {
        flex-direction: column;
    }
    
    .wishlist-grid,
    .addresses-grid {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 576px) {
    .account-section {
        padding: 2rem 0;
    }
    
    .account-sidebar,
    .account-content {
        padding: 1.5rem;
    }
    
    .dashboard-stats {
        grid-template-columns: 1fr;
    }
    
    .order-item {
        grid-template-columns: 1fr;
        gap: 0.75rem;
        text-align: center;
    }
    
    .actions-grid {
        grid-template-columns: 1fr;
    }
    
    .address-actions {
        flex-direction: column;
    }
}
</style>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Tab navigation
    const navLinks = document.querySelectorAll('.account-nav .nav-link');
    const tabContents = document.querySelectorAll('.tab-content');
    
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            
            if (this.classList.contains('logout-link')) {
                if (confirm('Are you sure you want to logout?')) {
                    // Simulate logout
                    window.location.href = '/';
                }
                return;
            }
            
            const tab = this.dataset.tab;
            
            // Update active nav link
            navLinks.forEach(l => l.classList.remove('active'));
            this.classList.add('active');
            
            // Show corresponding tab content
            tabContents.forEach(content => {
                content.classList.remove('active');
                if (content.dataset.tabContent === tab) {
                    content.classList.add('active');
                }
            });
            
            // Update URL hash
            window.location.hash = tab;
        });
    });
    
    // Handle quick action links
    const quickActionLinks = document.querySelectorAll('.action-card, .view-all-link');
    quickActionLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const tab = this.dataset.tab;
            
            if (tab) {
                // Trigger the corresponding nav link
                const navLink = document.querySelector(`[data-tab="${tab}"]`);
                if (navLink) {
                    navLink.click();
                }
            }
        });
    });
    
    // Initialize from URL hash
    const hash = window.location.hash.substring(1);
    if (hash) {
        const navLink = document.querySelector(`[data-tab="${hash}"]`);
        if (navLink) {
            navLink.click();
        }
    }
    
    // Wishlist functionality
    const removeWishlistBtns = document.querySelectorAll('.remove-wishlist-btn');
    removeWishlistBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            const productId = this.dataset.productId;
            const wishlistItem = this.closest('.wishlist-item');
            
            if (confirm('Remove this item from your wishlist?')) {
                wishlistItem.style.opacity = '0.5';
                wishlistItem.style.pointerEvents = 'none';
                
                setTimeout(() => {
                    wishlistItem.remove();
                    GadgetsZone.showNotification('Item removed from wishlist', 'success');
                }, 300);
            }
        });
    });
    
    const addToCartBtns = document.querySelectorAll('.add-to-cart-btn');
    addToCartBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            const productId = this.dataset.productId;
            const originalText = this.innerHTML;
            
            this.innerHTML = '<i class="icon-loader"></i> Adding...';
            this.disabled = true;
            
            setTimeout(() => {
                GadgetsZone.showNotification('Item added to cart', 'success');
                this.innerHTML = originalText;
                this.disabled = false;
            }, 1000);
        });
    });
    
    // Address management
    const addAddressBtn = document.querySelector('.add-address-btn');
    if (addAddressBtn) {
        addAddressBtn.addEventListener('click', function() {
            // In a real implementation, this would open a modal or navigate to an add address form
            alert('Add new address functionality would be implemented here');
        });
    }
    
    const editAddressBtns = document.querySelectorAll('.edit-address-btn');
    editAddressBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            alert('Edit address functionality would be implemented here');
        });
    });
    
    const deleteAddressBtns = document.querySelectorAll('.delete-address-btn');
    deleteAddressBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            if (confirm('Are you sure you want to delete this address?')) {
                const addressCard = this.closest('.address-card');
                addressCard.style.opacity = '0.5';
                addressCard.style.pointerEvents = 'none';
                
                setTimeout(() => {
                    addressCard.remove();
                    GadgetsZone.showNotification('Address deleted successfully', 'success');
                }, 300);
            }
        });
    });
    
    // Profile form
    const profileForm = document.querySelector('.profile-form');
    if (profileForm) {
        profileForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            
            submitBtn.textContent = 'Saving...';
            submitBtn.disabled = true;
            
            setTimeout(() => {
                GadgetsZone.showNotification('Profile updated successfully', 'success');
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }, 1500);
        });
    }
    
    // Notifications
    const markAllReadBtn = document.querySelector('.mark-all-read-btn');
    if (markAllReadBtn) {
        markAllReadBtn.addEventListener('click', function() {
            const unreadNotifications = document.querySelectorAll('.notification-item.unread');
            unreadNotifications.forEach(notification => {
                notification.classList.remove('unread');
            });
            
            // Update nav badge
            const notificationsBadge = document.querySelector('[data-tab="notifications"] .nav-badge');
            if (notificationsBadge) {
                notificationsBadge.textContent = '0';
            }
            
            GadgetsZone.showNotification('All notifications marked as read', 'success');
        });
    }
    
    const markReadBtns = document.querySelectorAll('.mark-read-btn');
    markReadBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            const notificationItem = this.closest('.notification-item');
            notificationItem.classList.remove('unread');
            this.remove();
            
            // Update badge count
            const notificationsBadge = document.querySelector('[data-tab="notifications"] .nav-badge');
            if (notificationsBadge) {
                const currentCount = parseInt(notificationsBadge.textContent);
                notificationsBadge.textContent = Math.max(0, currentCount - 1);
            }
        });
    });
    
    // Orders filter
    const ordersFilter = document.querySelector('.filter-select');
    if (ordersFilter) {
        ordersFilter.addEventListener('change', function() {
            const filterValue = this.value;
            const orderRows = document.querySelectorAll('.table-row');
            
            orderRows.forEach(row => {
                const statusBadge = row.querySelector('.status-badge');
                if (statusBadge) {
                    const status = statusBadge.textContent.toLowerCase().trim();
                    if (filterValue === 'all' || status.includes(filterValue)) {
                        row.style.display = 'grid';
                    } else {
                        row.style.display = 'none';
                    }
                }
            });
        });
    }
    
    // Global GadgetsZone object for utility functions
    if (typeof GadgetsZone === 'undefined') {
        window.GadgetsZone = {
            showNotification: function(message, type = 'success') {
                const notification = document.createElement('div');
                notification.className = `cart-notification show ${type}`;
                notification.innerHTML = `
                    <div class="notification-content">
                        <i class="notification-icon icon-${type === 'error' ? 'x-circle' : 'check-circle'}"></i>
                        <span class="notification-message">${message}</span>
                    </div>
                `;
                document.body.appendChild(notification);
                setTimeout(() => {
                    notification.classList.remove('show');
                    notification.addEventListener('transitionend', () => notification.remove());
                }, 3000);
            }
        };
    }
});
</script>
{% endblock %}

